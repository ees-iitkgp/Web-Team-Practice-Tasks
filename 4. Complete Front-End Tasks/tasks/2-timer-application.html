<!--
	Task 2: Timer Application

	Note: If you have used Timers in your phone's clock app, or in any other place. You can guess how this will proceed.

	Task Objective:
	1. An input will be taken to see how long the timer should run for. The input should ideally be in the format of HH:MM:SS
		- You can either use different input fields or use the same input field and process the data acquired.
	
	2. Once an input (a valid input) is given, a timer will be generated, which will count down to zero.
	
	3. The timer should also have a pause/resume button and a delete/stop button. The pause button will be used to pause and resume the timer appropriately, 
	while the stop/delete button will reset the timer.
	
	4. When the time runs out in the timer, alert the user with either a sound being played, a change in the visual style of the timer or some other cues.
	
	5. While you can start with a single timer, it would be preferable if your application can run upto 6 timers at once.

	While your task will be judged on how you have applied the functionality, your task will also be jedged on the styles you have used.
-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Timer Application</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 50px;
		}
		.timer {
			display: flex;
			align-items: center;
			margin: 10px 0;
		}
		.timer input {
			margin-right: 10px;
		}
		.timer button {
			margin-left: 5px;
		}
	</style>
</head>
<body>
	<h1>Timer Application</h1>
	<div>
		<input type="text" id="timeInput" placeholder="HH:MM:SS">
		<button onclick="addTimer()">Add Timer</button>
	</div>
	<div id="timersContainer"></div>

	<script>
		function addTimer() {
			const timeInput = document.getElementById('timeInput').value;
			const timersContainer = document.getElementById('timersContainer');

			const timerDiv = document.createElement('div');
			timerDiv.className = 'timer';

			const timeDisplay = document.createElement('span');
			timeDisplay.textContent = timeInput;
			timerDiv.appendChild(timeDisplay);

			const pauseButton = document.createElement('button');
			pauseButton.textContent = 'Pause';
			pauseButton.onclick = () => togglePause(timerDiv);
			timerDiv.appendChild(pauseButton);

			const stopButton = document.createElement('button');
			stopButton.textContent = 'Stop';
			stopButton.onclick = () => stopTimer(timerDiv);
			timerDiv.appendChild(stopButton);

			timersContainer.appendChild(timerDiv);

			startTimer(timerDiv, timeInput);
		}

		function startTimer(timerDiv, timeInput) {
			let [hours, minutes, seconds] = timeInput.split(':').map(Number);
			let totalSeconds = hours * 3600 + minutes * 60 + seconds;
			const timeDisplay = timerDiv.querySelector('span');

			const interval = setInterval(() => {
				if (totalSeconds <= 0) {
					clearInterval(interval);
					alert('Time is up!');
					return;
				}
				totalSeconds--;
				const hrs = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
				const mins = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
				const secs = String(totalSeconds % 60).padStart(2, '0');
				timeDisplay.textContent = `${hrs}:${mins}:${secs}`;
			}, 1000);

			timerDiv.interval = interval;
		}

		function togglePause(timerDiv) {
			const pauseButton = timerDiv.querySelector('button');
			if (pauseButton.textContent === 'Pause') {
				clearInterval(timerDiv.interval);
				pauseButton.textContent = 'Resume';
			} else {
				const timeInput = timerDiv.querySelector('span').textContent;
				startTimer(timerDiv, timeInput);
				pauseButton.textContent = 'Pause';
			}
		}

		function stopTimer(timerDiv) {
			clearInterval(timerDiv.interval);
			timerDiv.remove();
		}
	</script>
</body>
</html>